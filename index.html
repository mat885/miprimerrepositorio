# Simulación de Proyecto-carbono en consola

usuarios = []
sesion_activa = {}

def registrar_usuario():
    print("\n--- Registro ---")
    usuario = input("Nombre de usuario o Gmail: ")
    clave = input("Contraseña: ")
    usuarios.append({"usuario": usuario, "clave": clave})
    print("Registro exitoso.\n")

def iniciar_sesion():
    print("\n--- Iniciar sesión ---")
    usuario = input("Nombre de usuario: ")
    correo = input("Correo electrónico: ")
    clave = input("Contraseña: ")
    confirmar = input("Confirmar contraseña: ")

    for u in usuarios:
        if u["usuario"] == usuario and clave == confirmar and clave == u["clave"]:
            sesion_activa["usuario"] = usuario
            print(f"Sesión iniciada como {usuario}\n")
            return
    print("Datos incorrectos o usuario no registrado.\n")

def cerrar_sesion():
    if "usuario" in sesion_activa:
        print(f"Cerrando sesión de {sesion_activa['usuario']}...\n")
        sesion_activa.clear()
    else:
        print("No hay sesión activa.\n")

def calcular():
    if "usuario" not in sesion_activa:
        print("⚠️ Debes iniciar sesión para calcular.\n")
        return

    print("\n--- Preguntas para calcular huella de carbono ---")
    preguntas = ["Pregunta 1", "Pregunta 2", "Pregunta 3", "Pregunta 4"]
    respuestas = []

    for p in preguntas:
        r = input(f"{p}: ")
        respuestas.append(r)

    print("\nGracias por responder. Tus respuestas fueron:")
    for i in range(len(preguntas)):
        print(f"{preguntas[i]} → {respuestas[i]}")
    print()

def menu():
    while True:
        print("=== Proyecto-carbono ===")
        print("1. Calcular")
        print("2. Iniciar sesión")
        print("3. Registrarse")
        print("4. Cerrar sesión")
        print("5. Salir")
        opcion = input("Elige una opción: ")

        if opcion == "1":
            calcular()
        elif opcion == "2":
            iniciar_sesion()
        elif opcion == "3":
            registrar_usuario()
        elif opcion == "4":
            cerrar_sesion()
        elif opcion == "5":
            print("¡Hasta luego!")
            break
        else:
            print("Opción no válida.\n")

menu()
